<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Food Menu Scheduler</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f4f4f4;
            color: #333;
        }
        .header {
            display: flex;
            flex-wrap: wrap;
            align-items: center;
            justify-content: space-between;
            padding: 15px 20px;
            background-color: #4CAF50;
            color: white;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        .header-title {
            font-size: 28px;
            font-weight: 600;
            flex: 1;
        }
        .download-btn {
            padding: 10px 20px;
            background-color: #ffffff;
            color: #4CAF50;
            border: 2px solid #4CAF50;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
            transition: background-color 0.3s, color 0.3s;
        }
        .download-btn:hover {
            background-color: #4CAF50;
            color: #ffffff;
        }
        .container {
            display: flex;
            flex-wrap: wrap;
            height: calc(100vh - 70px);
        }
        .sidebar {
            width: 100%;
            max-width: 300px;
            background-color: #ffffff;
            padding: 20px;
            overflow-y: auto;
            border-right: 1px solid #ddd;
            box-shadow: 2px 0 4px rgba(0, 0, 0, 0.1);
            box-sizing: border-box;
        }
        .category {
            margin-bottom: 20px;
        }
        .category-header {
            font-size: 18px;
            font-weight: 600;
            color: #333;
            cursor: pointer;
            border-bottom: 2px solid #4CAF50;
            padding-bottom: 5px;
            margin-bottom: 10px;
        }
        .food-items {
            display: none;
            margin-left: 15px;
        }
        .food-item {
            margin: 5px 0;
            cursor: move;
            background-color: #f9f9f9;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 4px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }
        .calendar {
            flex: 1;
            padding: 20px;
            box-sizing: border-box;
        }
        table {
            width: 100%;
            border-collapse: collapse;
        }
        th, td {
            border: 1px solid #ddd;
            text-align: center;
            padding: 12px;
        }
        th {
            background-color: #f1f1f1;
            font-weight: 600;
        }
        td {
            background-color: #ffffff;
            cursor: pointer;
        }
        .drop-zone {
            position: relative;
        }
        .delete-btn {
            position: absolute;
            top: 5px;
            right: 5px;
            cursor: pointer;
            background-color: #ff4d4d;
            color: white;
            border: none;
            border-radius: 50%;
            width: 20px;
            height: 20px;
            display: none;
            font-size: 14px;
            line-height: 20px;
            text-align: center;
        }
        .drop-zone:hover .delete-btn {
            display: block;
        }
        .editable {
            background-color: #e6ffe6;
        }
        #search-box {
            width: calc(100% - 20px);
            padding: 10px;
            margin-bottom: 20px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 16px;
        }

        @media (max-width: 768px) {
            .header-title {
                font-size: 24px;
            }
            .download-btn {
                font-size: 14px;
                padding: 8px 16px;
            }
            .container {
                flex-direction: column;
                height: auto;
            }
            .sidebar {
                width: 100%;
                border-right: none;
                border-bottom: 1px solid #ddd;
                box-shadow: none;
            }
            .calendar {
                width: 100%;
            }
        }
    </style>
</head>
<body>
    <div class="header">
        <div class="header-title">Clariant Menu</div>
        <button class="download-btn" onclick="downloadExcel()">Download Menu</button>
    </div>

    <div class="container">
        <!-- Left Sidebar -->
        <div class="sidebar">
 <input type="text" id="search-box" placeholder="Search food items..." style="width: 100%; padding: 10px; margin-bottom: 20px; border: 1px solid #ddd; border-radius: 4px;">
            <!-- Category Sections -->
            <!-- Breakfast -->
            <div class="category">
                <div class="category-header">Breakfast</div>
                <div class="food-items" id="breakfast-items">
                    <div class="food-item" data-category="breakfast" draggable="true">Misal Pav</div>
                    <div class="food-item" data-category="breakfast" draggable="true">Usal Pav</div>
                    <div class="food-item" data-category="breakfast" draggable="true">Kolhapuri Misal</div>
                    <div class="food-item" data-category="breakfast" draggable="true">Matki Misal</div>
                    <div class="food-item" data-category="breakfast" draggable="true">Mix Misal</div>
                    <div class="food-item" data-category="breakfast" draggable="true">Spicy Potato S/W</div>
                </div>
            </div>

            <!-- Snacks Veg -->
            <div class="category">
                <div class="category-header">Snacks Veg</div>
                <div class="food-items" id="snacks-items">
                    <div class="food-item" data-category="snacks" draggable="true">Methi Paratha</div>
                    <div class="food-item" data-category="snacks" draggable="true">Set Dosa</div>
                    <div class="food-item" data-category="snacks" draggable="true">Moong Dal Pakoda</div>
                    <div class="food-item" data-category="snacks" draggable="true">Methi Pakoda</div>
                </div>
            </div>

            <!-- Salads -->
            <div class="category">
                <div class="category-header">Salads</div>
                <div class="food-items" id="salads-items">
                    <div class="food-item" data-category="salad" draggable="true">Green Salad</div>
                    <div class="food-item" data-category="salad" draggable="true">Cucumber Salad</div>
                    <div class="food-item" data-category="salad" draggable="true">Chana Salad</div>
                    <div class="food-item" data-category="salad" draggable="true">Tomato Salad With Mint Dressing</div>
                </div>
            </div>

            <!-- Raitas -->
            <div class="category">
                <div class="category-header">Raitas</div>
                <div class="food-items" id="raitas-items">
                    <div class="food-item" data-category="raita" draggable="true">Boondi Raita</div>
                    <div class="food-item" data-category="raita" draggable="true">Veg Raita</div>
                    <div class="food-item" data-category="raita" draggable="true">Onion Raita</div>
                    <div class="food-item" data-category="raita" draggable="true">Mint Raita</div>
                    <div class="food-item" data-category="raita" draggable="true">Anardana Raita</div>
                </div>
            </div>

            <!-- Thali Rice -->
            <div class="category">
                <div class="category-header">Thali Rice</div>
                <div class="food-items" id="thali-rice-items">
                    <div class="food-item" data-category="rice" draggable="true">Steamed Rice</div>
                    <div class="food-item" data-category="rice" draggable="true">Tadka Rice</div>
                    <div class="food-item" data-category="rice" draggable="true">Coriander Rice</div>
                    <div class="food-item" data-category="rice" draggable="true">Palak Rice</div>
                </div>
            </div>

            <!-- Special Rice Preparation/Veg & Non-Veg Biryani -->
            <div class="category">
                <div class="category-header">Special Rice Preparation/Veg & Non-Veg Biryani</div>
                <div class="food-items" id="special-rice-items">
                    <div class="food-item" data-category="rice" draggable="true">Veg Tawa Pulao</div>
                    <div class="food-item" data-category="rice" draggable="true">Mushroom Pulao</div>
                    <div class="food-item" data-category="rice" draggable="true">Capsicum Rice</div>
                    <div class="food-item" data-category="rice" draggable="true">Bengali Khichadi</div>
                    <div class="food-item" data-category="rice" draggable="true">Beetroot Rice Pulao</div>
                    <div class="food-item" data-category="rice" draggable="true">Veg Peanut Rice</div>
                </div>
            </div>

            <!-- Dal Preparation -->
            <div class="category">
                <div class="category-header">Dal Preparation</div>
                <div class="food-items" id="dal-items">
                    <div class="food-item" data-category="dal" draggable="true">Dal Bhukara</div>
                    <div class="food-item" data-category="dal" draggable="true">Punjabi Kadi</div>
                    <div class="food-item" data-category="dal" draggable="true">Gujrati Kadhi</div>
                    <div class="food-item" data-category="dal" draggable="true">Dahi Kadhi Plain</div>
                    <div class="food-item" data-category="dal" draggable="true">Dal Kolhapuri</div>
                    <div class="food-item" data-category="dal" draggable="true">Dal Bukhara</div>
                </div>
            </div>

            <!-- Vegetable Preparation (Dry) -->
            <div class="category">
                <div class="category-header">Vegetable Preparation (Dry)</div>
                <div class="food-items" id="veg-dry-items">
                    <div class="food-item" data-category="vegetable" draggable="true">Suran Chana Dry</div>
                    <div class="food-item" data-category="vegetable" draggable="true">Bhareli Baigan</div>
                    <div class="food-item" data-category="vegetable" draggable="true">Baigan Bharta</div>
                </div>
            </div>

            <!-- Vegetable Preparation (Gravy) -->
            <div class="category">
                <div class="category-header">Vegetable Preparation (Gravy)</div>
                <div class="food-items" id="veg-gravy-items">
                    <div class="food-item" data-category="vegetable" draggable="true">Chole</div>
                    <div class="food-item" data-category="vegetable" draggable="true">Palak Paneer</div>
                    <div class="food-item" data-category="vegetable" draggable="true">Aloo Gobi</div>
                </div>
            </div>

            <!-- Paneer Preparation -->
            <div class="category">
                <div class="category-header">Paneer Preparation</div>
                <div class="food-items" id="paneer-items">
                    <div class="food-item" data-category="paneer" draggable="true">Paneer Tikka</div>
                    <div class="food-item" data-category="paneer" draggable="true">Paneer Masala</div>
                    <div class="food-item" data-category="paneer" draggable="true">Paneer Butter Masala</div>
                </div>
            </div>

            <!-- Chicken Preparation -->
            <div class="category">
                <div class="category-header">Chicken Preparation</div>
                <div class="food-items" id="chicken-items">
                    <div class="food-item" data-category="chicken" draggable="true">Chicken Curry</div>
                    <div class="food-item" data-category="chicken" draggable="true">Chicken Tikka</div>
                    <div class="food-item" data-category="chicken" draggable="true">Chicken Korma</div>
                </div>
            </div>

            <!-- Egg Preparation -->
            <div class="category">
                <div class="category-header">Egg Preparation</div>
                <div class="food-items" id="egg-items">
                    <div class="food-item" data-category="egg" draggable="true">Egg Curry</div>
                    <div class="food-item" data-category="egg" draggable="true">Egg Bhurji</div>
                    <div class="food-item" data-category="egg" draggable="true">Egg Fry</div>
                </div>
            </div>

            <!-- Bread Preparation -->
            <div class="category">
                <div class="category-header">Bread Preparation</div>
                <div class="food-items" id="bread-items">
                    <div class="food-item" data-category="bread" draggable="true">Chapati</div>
                    <div class="food-item" data-category="bread" draggable="true">Paratha</div>
                    <div class="food-item" data-category="bread" draggable="true">Naan</div>
                </div>
            </div>

            <!-- Desserts -->
            <div class="category">
                <div class="category-header">Desserts</div>
                <div class="food-items" id="desserts-items">
                    <div class="food-item" data-category="dessert" draggable="true">Gulab Jamun</div>
                    <div class="food-item" data-category="dessert" draggable="true">Jalebi</div>
                    <div class="food-item" data-category="dessert" draggable="true">Rasgulla</div>
                </div>
            </div>

            <!-- Healthy Preparation (Healthy Menu mains) -->
            <div class="category">
                <div class="category-header">Healthy Preparation (Healthy Menu mains)</div>
                <div class="food-items" id="healthy-mains-items">
                    <div class="food-item" data-category="healthy" draggable="true">Quinoa Salad</div>
                    <div class="food-item" data-category="healthy" draggable="true">Chickpea Salad</div>
                    <div class="food-item" data-category="healthy" draggable="true">Grilled Vegetables</div>
                </div>
            </div>

            <!-- Healthy Preparation (Healthy Menu starter) -->
            <div class="category">
                <div class="category-header">Healthy Preparation (Healthy Menu starter)</div>
                <div class="food-items" id="healthy-starter-items">
                    <div class="food-item" data-category="healthy" draggable="true">Fruit Salad</div>
                    <div class="food-item" data-category="healthy" draggable="true">Vegetable Soup</div>
                </div>
            </div>

            <!-- Healthy Preparation (Healthy Menu Soup) -->
            <div class="category">
                <div class="category-header">Healthy Preparation (Healthy Menu Soup)</div>
                <div class="food-items" id="healthy-soup-items">
                    <div class="food-item" data-category="healthy" draggable="true">Tomato Soup</div>
                    <div class="food-item" data-category="healthy" draggable="true">Carrot Soup</div>
                </div>
            </div>

            <!-- Chinese Preparation -->
            <div class="category">
                <div class="category-header">Chinese Preparation</div>
                <div class="food-items" id="chinese-items">
                    <div class="food-item" data-category="chinese" draggable="true">Fried Rice</div>
                    <div class="food-item" data-category="chinese" draggable="true">Spring Rolls</div>
                    <div class="food-item" data-category="chinese" draggable="true">Manchurian</div>
                </div>
            </div>

            <!-- Fasting Meal -->
            <div class="category">
                <div class="category-header">Fasting Meal</div>
                <div class="food-items" id="fasting-meal-items">
                    <div class="food-item" data-category="fasting" draggable="true">Sabudana Khichdi</div>
                    <div class="food-item" data-category="fasting" draggable="true">Fruit Chaat</div>
                    <div class="food-item" data-category="fasting" draggable="true">Rajgira Roti</div>
                </div>
            </div>
        </div>

   <!-- Right Calendar -->
        <div class="calendar">
            <table id="menu-table">
                <thead>
                <tr>
                    <th></th>
                    <th class="editable" contenteditable="true">08/05/2024</th>
                    <th class="editable" contenteditable="true">08/06/2024</th>
                    <th class="editable" contenteditable="true">08/07/2024</th>
                    <th class="editable" contenteditable="true">08/08/2024</th>
                    <th class="editable" contenteditable="true">08/09/2024</th>
                </tr>
                <tr>
                    <tr>
                        <th>Meal</th>
                        <th>Monday</th>
                        <th>Tuesday</th>
                        <th>Wednesday</th>
                        <th>Thursday</th>
                        <th>Friday</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Breakfast</td>
                        <td class="drop-zone"></td>
                        <td class="drop-zone"></td>
                        <td class="drop-zone"></td>
                        <td class="drop-zone"></td>
                        <td class="drop-zone"></td>
                    </tr>
                    <tr>
                        <td>Dry Veg</td>
                        <td class="drop-zone"></td>
                        <td class="drop-zone"></td>
                        <td class="drop-zone"></td>
                        <td class="drop-zone"></td>
                        <td class="drop-zone"></td>
                    </tr>
                    <tr>
                        <td>Wet Veg</td>
                        <td class="drop-zone"></td>
                        <td class="drop-zone"></td>
                        <td class="drop-zone"></td>
                        <td class="drop-zone"></td>
                        <td class="drop-zone"></td>
                    </tr>
                    <tr>
                        <td>Dal</td>
                        <td class="drop-zone"></td>
                        <td class="drop-zone"></td>
                        <td class="drop-zone"></td>
                        <td class="drop-zone"></td>
                        <td class="drop-zone"></td>
                    </tr>
                    <tr>
                        <td>Rice</td>
                        <td class="drop-zone"></td>
                        <td class="drop-zone"></td>
                        <td class="drop-zone"></td>
                        <td class="drop-zone"></td>
                        <td class="drop-zone"></td>
                    </tr>
                    <tr>
                        <td>Chicken</td>
                        <td class="drop-zone"></td>
                        <td class="drop-zone"></td>
                        <td class="drop-zone"></td>
                        <td class="drop-zone"></td>
                        <td class="drop-zone"></td>
                    </tr>
                    <tr>
                        <td>Salad</td>
                        <td class="drop-zone"></td>
                        <td class="drop-zone"></td>
                        <td class="drop-zone"></td>
                        <td class="drop-zone"></td>
                        <td class="drop-zone"></td>
                    </tr>
                    <tr>
                        <td>Chapati</td>
                        <td class="drop-zone"></td>
                        <td class="drop-zone"></td>
                        <td class="drop-zone"></td>
                        <td class="drop-zone"></td>
                        <td class="drop-zone"></td>
                    </tr>
                    <tr>
                        <td>Curd</td>
                        <td class="drop-zone"></td>
                        <td class="drop-zone"></td>
                        <td class="drop-zone"></td>
                        <td class="drop-zone"></td>
                        <td class="drop-zone"></td>
                    </tr>
                    <tr>
                        <td>Papad</td>
                        <td class="drop-zone"></td>
                        <td class="drop-zone"></td>
                        <td class="drop-zone"></td>
                        <td class="drop-zone"></td>
                        <td class="drop-zone"></td>
                    </tr>
                    <tr>
                        <td>Fruit</td>
                        <td class="drop-zone"></td>
                        <td class="drop-zone"></td>
                        <td class="drop-zone"></td>
                        <td class="drop-zone"></td>
                        <td class="drop-zone"></td>
                    </tr>
                    <tr>
                        <td>Sweet</td>
                        <td class="drop-zone"></td>
                        <td class="drop-zone"></td>
                        <td class="drop-zone"></td>
                        <td class="drop-zone"></td>
                        <td class="drop-zone"></td>
                    </tr>
                    <!-- Fasting Lunch Header -->
                    <tr>
                        <td colspan="6" style="font-weight: bold;">Fasting Lunch</td>
                    </tr>
                    <tr>
                        <td>Beverage</td>
                        <td class="drop-zone"></td>
                        <td class="drop-zone"></td>
                        <td class="drop-zone"></td>
                        <td class="drop-zone"></td>
                        <td class="drop-zone"></td>
                    </tr>
                    <tr>
                        <td>Fruits</td>
                        <td class="drop-zone"></td>
                        <td class="drop-zone"></td>
                        <td class="drop-zone"></td>
                        <td class="drop-zone"></td>
                        <td class="drop-zone"></td>
                    </tr>
                    <tr>
                        <td>Mains</td>
                       

                        <td class="drop-zone"></td>
                        <td class="drop-zone"></td>
                        <td class="drop-zone"></td>
                        <td class="drop-zone"></td>
                        <td class="drop-zone"></td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>

    <!-- Include the xlsx library -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
  <script>
        // Toggle the visibility of food items when category header is clicked
        document.querySelectorAll('.category-header').forEach(header => {
            header.addEventListener('click', () => {
                const foodItems = header.nextElementSibling;
                foodItems.style.display = foodItems.style.display === 'block' ? 'none' : 'block';
            });
        });

        // Drag and drop functionality
        const foodItems = document.querySelectorAll('.food-item');
        const dropZones = document.querySelectorAll('.drop-zone');

        foodItems.forEach(item => {
            item.addEventListener('dragstart', dragStart);
        });

        dropZones.forEach(zone => {
            zone.addEventListener('dragover', dragOver);
            zone.addEventListener('drop', dropItem);
        });

        function dragStart(e) {
            e.dataTransfer.setData('text', e.target.innerText);
            e.dataTransfer.setData('category', e.target.dataset.category);
            e.target.classList.add('dragging');
        }

        function dragOver(e) {
            e.preventDefault();
        }

        function dropItem(e) {
            e.preventDefault();
            const data = e.dataTransfer.getData('text');
            const category = e.dataTransfer.getData('category');
            const foodItem = document.querySelector('.food-item.dragging');

            // Check if there's already an item in the drop zone
            const existingItem = e.target.innerText;
            if (existingItem && existingItem.trim() && !e.target.classList.contains('drop-zone')) {
                // Find the existing item in the sidebar and make it visible again in the correct category
                const categoryContainer = document.getElementById(`${category}-items`);
                if (categoryContainer) {
                    const newItem = document.createElement('div');
                    newItem.classList.add('food-item');
                    newItem.setAttribute('data-category', category);
                    newItem.setAttribute('draggable', 'true');
                    newItem.innerText = existingItem.trim();
                    categoryContainer.appendChild(newItem);

                    // Reattach drag events
                    newItem.addEventListener('dragstart', dragStart);
                }
            }

            // Update the cell with the new food item
            e.target.innerHTML = data + '<button class="delete-btn">&times;</button>';

            // Hide the dropped item from the left menu
            foodItem.style.display = 'none';
            foodItem.classList.remove('dragging');

            // Add delete functionality
            e.target.querySelector('.delete-btn').addEventListener('click', function() {
                e.target.innerHTML = ''; // Clear the cell
                // Show the food item back in the original list
                foodItem.style.display = 'block';
            });
        }

        function downloadExcel() {
            // Remove delete buttons before generating Excel
            const deleteButtons = document.querySelectorAll('.delete-btn');
            deleteButtons.forEach(btn => btn.remove());

            // Create a new workbook and worksheet
            const wb = XLSX.utils.book_new();
            const ws = XLSX.utils.table_to_sheet(document.getElementById('menu-table'));

            // Add worksheet to workbook
            XLSX.utils.book_append_sheet(wb, ws, 'Menu');

            // Generate Excel file
            XLSX.writeFile(wb, 'Menu.xlsx');
        }
    // Function to filter food items based on the search query
    function filterFoodItems() {
        const query = document.getElementById('search-box').value.toLowerCase();
        const categories = document.querySelectorAll('.category');

        categories.forEach(category => {
            const foodItems = category.querySelectorAll('.food-item');
            let hasVisibleItems = false;

            foodItems.forEach(item => {
                if (item.textContent.toLowerCase().includes(query)) {
                    item.style.display = 'block';
                    hasVisibleItems = true;
                } else {
                    item.style.display = 'none';
                }
            });

            // Show or hide the category header based on the visibility of food items
            const categoryHeader = category.querySelector('.category-header');
            if (hasVisibleItems) {
                categoryHeader.style.display = 'block';
                category.querySelector('.food-items').style.display = 'block';
            } else {
                categoryHeader.style.display = 'none';
                category.querySelector('.food-items').style.display = 'none';
            }
        });
    }

    // Add event listener to the search box
    document.getElementById('search-box').addEventListener('input', filterFoodItems);

    </script>
</body>
</html>
